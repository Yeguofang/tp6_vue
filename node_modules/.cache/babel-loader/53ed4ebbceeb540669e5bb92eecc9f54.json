{"remainingRequest":"/Users/yeguofang/www/tp6_vue_10/node_modules/babel-loader/lib/index.js!/Users/yeguofang/www/tp6_vue_10/src/router/router.js","dependencies":[{"path":"/Users/yeguofang/www/tp6_vue_10/src/router/router.js","mtime":1576683677000},{"path":"/Users/yeguofang/www/tp6_vue_10/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yeguofang/www/tp6_vue_10/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport web from \"./web\";\nVue.use(Router);\nvar router = new Router({\n  mode: 'hash',\n  routes: web\n}); //beforeEach是router的钩子函数，在进入路由前执行\n\nrouter.beforeEach(function (to, from, next) {\n  // eslint-disable-next-line no-console\n  console.log(\"路由执行前\");\n\n  if (to.meta.title) {\n    //判断是否有标题\n    document.title = to.meta.title;\n  }\n\n  console.log(to.meta);\n\n  if (to.meta.auth === 'login') {\n    var token = localStorage.getItem(\"token\");\n    console.log(\"这里是token:\" + token);\n\n    if (token === undefined || token === '' || token == null) {\n      // localStorage.setItem(\"loginUrl\", to.fullPath);\n      router.replace({\n        name: \"login\",\n        query: {\n          redirect: to.fullPath\n        }\n      }); // next({\n      //     path: '/login'\n      // })\n    }\n  }\n\n  next();\n}); //路由后执行\n\nrouter.afterEach(function (to, from) {\n  console.log(\"路由执行后\");\n});\nexport default router;",{"version":3,"sources":["/Users/yeguofang/www/tp6_vue_10/src/router/router.js"],"names":["Vue","Router","web","use","router","mode","routes","beforeEach","to","from","next","console","log","meta","title","document","auth","token","localStorage","getItem","undefined","replace","name","query","redirect","fullPath","afterEach"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,GAAP;AAGAF,GAAG,CAACG,GAAJ,CAAQF,MAAR;AAEA,IAAMG,MAAM,GAAG,IAAIH,MAAJ,CAAW;AACtBI,EAAAA,IAAI,EAAE,MADgB;AAEtBC,EAAAA,MAAM,EAAEJ;AAFc,CAAX,CAAf,C,CAKA;;AACAE,MAAM,CAACG,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AACA,MAAIJ,EAAE,CAACK,IAAH,CAAQC,KAAZ,EAAmB;AAAC;AAChBC,IAAAA,QAAQ,CAACD,KAAT,GAAiBN,EAAE,CAACK,IAAH,CAAQC,KAAzB;AACH;;AACDH,EAAAA,OAAO,CAACC,GAAR,CAAYJ,EAAE,CAACK,IAAf;;AACA,MAAIL,EAAE,CAACK,IAAH,CAAQG,IAAR,KAAiB,OAArB,EAA8B;AAC1B,QAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAcK,KAA1B;;AACA,QAAIA,KAAK,KAAKG,SAAV,IAAuBH,KAAK,KAAK,EAAjC,IAAuCA,KAAK,IAAI,IAApD,EAA0D;AACtD;AACAb,MAAAA,MAAM,CAACiB,OAAP,CAAe;AACXC,QAAAA,IAAI,EAAE,OADK;AAEXC,QAAAA,KAAK,EAAE;AAACC,UAAAA,QAAQ,EAAEhB,EAAE,CAACiB;AAAd;AAFI,OAAf,EAFsD,CAMtD;AACA;AACA;AACH;AACJ;;AACDf,EAAAA,IAAI;AACP,CAtBD,E,CAuBA;;AACAN,MAAM,CAACsB,SAAP,CAAiB,UAAClB,EAAD,EAAKC,IAAL,EAAc;AAC3BE,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACH,CAFD;AAIA,eAAeR,MAAf","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport web from './web'\n\n\nVue.use(Router);\n\nconst router = new Router({\n    mode: 'hash',\n    routes: web\n});\n\n//beforeEach是router的钩子函数，在进入路由前执行\nrouter.beforeEach((to, from, next) => {\n    // eslint-disable-next-line no-console\n    console.log(\"路由执行前\");\n    if (to.meta.title) {//判断是否有标题\n        document.title = to.meta.title\n    }\n    console.log(to.meta);\n    if (to.meta.auth === 'login') {\n        let token = localStorage.getItem(\"token\");\n        console.log(\"这里是token:\" + token);\n        if (token === undefined || token === '' || token == null) {\n            // localStorage.setItem(\"loginUrl\", to.fullPath);\n            router.replace({\n                name: \"login\",\n                query: {redirect: to.fullPath}\n            })\n            // next({\n            //     path: '/login'\n            // })\n        }\n    }\n    next();\n});\n//路由后执行\nrouter.afterEach((to, from) => {\n    console.log(\"路由执行后\")\n});\n\nexport default router\n"]}]}