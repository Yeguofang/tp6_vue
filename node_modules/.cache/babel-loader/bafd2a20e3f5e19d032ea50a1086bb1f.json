{"remainingRequest":"/Users/yeguofang/www/tp6_vue_10/node_modules/babel-loader/lib/index.js!/Users/yeguofang/www/tp6_vue_10/src/assets/js/jquery.magnifier.js","dependencies":[{"path":"/Users/yeguofang/www/tp6_vue_10/src/assets/js/jquery.magnifier.js","mtime":1521879550000},{"path":"/Users/yeguofang/www/tp6_vue_10/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yeguofang/www/tp6_vue_10/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\n;\n\n(function ($, window, document, undefined) {\n  var Magnifier = function Magnifier(elem) {\n    var self = this;\n    this.$elem = elem;\n    this.$smallBox = this.$elem.find('.small-box');\n    this.$smallBox_pic = this.$smallBox.find('img');\n    this.$smallBox_mask = this.$smallBox.find('.hover');\n    this.$thumbnailBox = this.$elem.find('.thumbnail-box');\n    this.$thumbnailBox_prev = this.$thumbnailBox.find('.btn-prev');\n    this.$thumbnailBox_next = this.$thumbnailBox.find('.btn-next');\n    this.$thumbnailBox_wrapper = this.$thumbnailBox.find('.wrapper');\n    this.$thumbnailBox_item = this.$thumbnailBox.find('.item');\n    this.$thumbnailBox_pic = this.$thumbnailBox.find('img');\n    this.$bigBox = this.$elem.find('.big-box');\n    this.$bigBox_pic = this.$bigBox.find('img');\n    this.wrapper_index = 0;\n  };\n\n  Magnifier.prototype = {\n    moveBigPic: function moveBigPic() {\n      // 改变大图\n      var scaleX = this.$smallBox_mask.position().left / (this.$smallBox.width() - this.$smallBox_mask.width());\n      var scaleY = this.$smallBox_mask.position().top / (this.$smallBox.height() - this.$smallBox_mask.height());\n      var scroll_l = scaleX * (this.$bigBox_pic.width() - this.$bigBox.width());\n      var scroll_t = scaleY * (this.$bigBox_pic.height() - this.$bigBox.height());\n      this.$bigBox.scrollLeft(scroll_l).scrollTop(scroll_t);\n    },\n    changeSrouce: function changeSrouce(index, big_src, sml_src) {\n      // 改变大小图地址\n      this.$smallBox_pic.attr('src', sml_src);\n      this.$bigBox_pic.attr('src', big_src);\n    },\n    setMask: function setMask() {\n      // 设置 mask 宽高\n      var mask_w = this.$smallBox.width() / (this.$bigBox_pic.width() / this.$bigBox.width());\n      var mask_h = this.$smallBox.height() / (this.$bigBox_pic.height() / this.$bigBox.height());\n      this.$smallBox_mask.css({\n        width: mask_w,\n        height: mask_h\n      });\n    },\n    inital: function inital() {\n      // 初始化\n      var self = this;\n      this.$thumbnailBox_next.click(function () {\n        if (self.$thumbnailBox_item.length - 5 > self.wrapper_index) {\n          self.wrapper_index += 4;\n          self.$thumbnailBox_wrapper.animate({\n            marginLeft: -(self.wrapper_index * 60)\n          });\n        }\n      });\n      this.$thumbnailBox_prev.click(function () {\n        if (self.wrapper_index > 0) {\n          self.wrapper_index -= 4;\n          self.$thumbnailBox_wrapper.animate({\n            marginLeft: -(self.wrapper_index * 60)\n          });\n        }\n      });\n      this.$thumbnailBox_item.mouseover(function () {\n        var big_src = $(this).data('src');\n        var sml_src = $(this).find('img').attr(\"src\");\n        self.$thumbnailBox_item.removeClass('active');\n        $(this).addClass('active');\n        self.changeSrouce($(this).index(), big_src, sml_src);\n      });\n      this.$smallBox.hover(function () {\n        self.$bigBox.show();\n        self.$smallBox_mask.show();\n        self.setMask();\n        $(this).mousemove(function (ev) {\n          var oEvent = ev || window.event;\n          var offset_pos = {\n            left: oEvent.clientX - $(this).offset().left - self.$smallBox_mask.width() / 2,\n            top: oEvent.clientY - $(this).offset().top - self.$smallBox_mask.height() / 2 + $(window).scrollTop()\n          };\n\n          if (offset_pos.left < 0) {\n            offset_pos.left = 0;\n          } else if (offset_pos.left > $(this).width() - self.$smallBox_mask.width()) {\n            offset_pos.left = $(this).width() - self.$smallBox_mask.width();\n          }\n\n          if (offset_pos.top < 0) {\n            offset_pos.top = 0;\n          } else if (offset_pos.top > $(this).height() - self.$smallBox_mask.height()) {\n            offset_pos.top = $(this).height() - self.$smallBox_mask.height();\n          }\n\n          self.$smallBox_mask.css(offset_pos);\n          self.moveBigPic();\n        });\n      }, function () {\n        self.$smallBox_mask.hide();\n        self.$bigBox.hide();\n      });\n    },\n    constructor: Magnifier\n  };\n\n  $.fn.magnifier = function () {\n    var magnifier = new Magnifier(this);\n    return magnifier.inital();\n  };\n})(jQuery, window, document);",{"version":3,"sources":["/Users/yeguofang/www/tp6_vue_10/src/assets/js/jquery.magnifier.js"],"names":["$","window","document","undefined","Magnifier","elem","self","$elem","$smallBox","find","$smallBox_pic","$smallBox_mask","$thumbnailBox","$thumbnailBox_prev","$thumbnailBox_next","$thumbnailBox_wrapper","$thumbnailBox_item","$thumbnailBox_pic","$bigBox","$bigBox_pic","wrapper_index","prototype","moveBigPic","scaleX","position","left","width","scaleY","top","height","scroll_l","scroll_t","scrollLeft","scrollTop","changeSrouce","index","big_src","sml_src","attr","setMask","mask_w","mask_h","css","inital","click","length","animate","marginLeft","mouseover","data","removeClass","addClass","hover","show","mousemove","ev","oEvent","event","offset_pos","clientX","offset","clientY","hide","constructor","fn","magnifier","jQuery"],"mappings":"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","sourcesContent":[";(function ($, window, document, undefined) {\n\n  var Magnifier = function (elem) {\n    var self = this;\n    this.$elem = elem;\n    this.$smallBox = this.$elem.find('.small-box');\n    this.$smallBox_pic = this.$smallBox.find('img');\n    this.$smallBox_mask = this.$smallBox.find('.hover');\n    this.$thumbnailBox = this.$elem.find('.thumbnail-box');\n    this.$thumbnailBox_prev = this.$thumbnailBox.find('.btn-prev');\n    this.$thumbnailBox_next = this.$thumbnailBox.find('.btn-next');\n    this.$thumbnailBox_wrapper = this.$thumbnailBox.find('.wrapper');\n    this.$thumbnailBox_item = this.$thumbnailBox.find('.item');\n    this.$thumbnailBox_pic = this.$thumbnailBox.find('img');\n    this.$bigBox = this.$elem.find('.big-box');\n    this.$bigBox_pic = this.$bigBox.find('img');\n    this.wrapper_index = 0;\n  };\n\n  Magnifier.prototype = {\n    moveBigPic: function () { // 改变大图\n      var scaleX = this.$smallBox_mask.position().left / (this.$smallBox.width() - this.$smallBox_mask.width());\n      var scaleY = this.$smallBox_mask.position().top / (this.$smallBox.height() - this.$smallBox_mask.height());\n      var scroll_l = scaleX * (this.$bigBox_pic.width() - this.$bigBox.width());\n      var scroll_t = scaleY * (this.$bigBox_pic.height() - this.$bigBox.height());\n\n      this.$bigBox.scrollLeft(scroll_l).scrollTop(scroll_t);\n    },\n\n    changeSrouce: function (index, big_src, sml_src) { // 改变大小图地址\n      this.$smallBox_pic.attr('src', sml_src);\n      this.$bigBox_pic.attr('src', big_src);\n    },\n\n    setMask: function () { // 设置 mask 宽高\n      var mask_w = this.$smallBox.width() / (this.$bigBox_pic.width() / this.$bigBox.width());\n      var mask_h = this.$smallBox.height() / (this.$bigBox_pic.height() / this.$bigBox.height());\n\n      this.$smallBox_mask.css({width: mask_w, height: mask_h});\n    },\n\n    inital: function () { // 初始化\n      var self = this;\n      \n      this.$thumbnailBox_next.click(function () {\n        if (self.$thumbnailBox_item.length - 5 > self.wrapper_index) {\n          self.wrapper_index += 4;\n          self.$thumbnailBox_wrapper.animate({marginLeft: -(self.wrapper_index * 60)});\n        }\n      });\n      \n      this.$thumbnailBox_prev.click(function () {\n        if (self.wrapper_index > 0) {\n          self.wrapper_index -= 4;\n          self.$thumbnailBox_wrapper.animate({marginLeft: -(self.wrapper_index * 60)});\n        }\n      });\n\n      this.$thumbnailBox_item.mouseover(function () {\n        var big_src = $(this).data('src');\n        var sml_src = $(this).find('img').attr(\"src\");\n        self.$thumbnailBox_item.removeClass('active');\n        $(this).addClass('active');\n        self.changeSrouce($(this).index(), big_src, sml_src);\n      });\n\n      this.$smallBox.hover(function () {\n        self.$bigBox.show();\n        self.$smallBox_mask.show();\n        self.setMask();\n\n        $(this).mousemove(function (ev) {\n          var oEvent = ev || window.event;\n          var offset_pos = {\n            left: oEvent.clientX - $(this).offset().left - self.$smallBox_mask.width() / 2,\n            top: oEvent.clientY - $(this).offset().top - self.$smallBox_mask.height() / 2 + $(window).scrollTop()\n          };\n\n          if (offset_pos.left < 0) {\n            offset_pos.left = 0;\n          } else if (offset_pos.left > $(this).width() - self.$smallBox_mask.width()) {\n            offset_pos.left = $(this).width() - self.$smallBox_mask.width();\n          }\n          if (offset_pos.top < 0) {\n            offset_pos.top = 0;\n          } else if (offset_pos.top > $(this).height() - self.$smallBox_mask.height()) {\n            offset_pos.top = $(this).height() - self.$smallBox_mask.height();\n          }\n\n          self.$smallBox_mask.css(offset_pos);\n\n          self.moveBigPic();\n        });\n      }, function () {\n        self.$smallBox_mask.hide();\n        self.$bigBox.hide();\n      });\n    },\n\n    constructor: Magnifier\n  };\n\n  $.fn.magnifier = function () {\n    var magnifier = new Magnifier(this);\n\n    return magnifier.inital();\n  };\n\n})(jQuery, window, document);"]}]}