{"remainingRequest":"/Users/yeguofang/www/tp6_vue_10/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yeguofang/www/tp6_vue_10/src/views/order.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yeguofang/www/tp6_vue_10/src/views/order.vue","mtime":1581999830000},{"path":"/Users/yeguofang/www/tp6_vue_10/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yeguofang/www/tp6_vue_10/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yeguofang/www/tp6_vue_10/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yeguofang/www/tp6_vue_10/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport header_ from '../components/header_'\nimport {cartList, address, order} from '../lib/interface'\n\nexport default {\n    components: {header_},\n    name: \"order\",\n    data() {\n        return {\n            ids: \"\",\n            cartList: [],\n            addressList: [],\n            addressId: 0,\n        }\n    },\n    mounted() {\n        this.ids = this.$route.query.ids;\n        if (!this.ids) {\n            this.$router.replace(\"/\");\n            return;\n        }\n        this.getCartList();\n        this.getAddress();\n        var that = this;\n        $(document).ready(function () {\n            $(this).on('change', 'input', function () {\n                that.addressId = $(this).parents('.radio-box').attr(\"val\");\n                $(this).parents('.radio-box').addClass('active').siblings().removeClass('active');\n            })\n        });\n        $('#coupon').bind('change', function () {\n            console.log($(this).val());\n        })\n    },\n    methods: {\n        async getCartList() {\n            let result = await cartList({\"id\": this.ids});\n            this.cartList = result.result;\n        },\n        async getAddress() {\n            let result = await address();\n            this.addressList = result.result;\n            if (this.addressList.length > 0) {\n                this.$nextTick(function () {\n                    $(\"#address0\").addClass(\"active\");\n                    $(\"#radio_0\").attr(\"checked\", 'checked');\n                    this.addressId = this.addressList[0].id;\n                })\n            }\n        },\n        async pay() {\n            if (this.addressId === 0) {\n                this.$Message.error(\"请选择收获地址！\");\n                return;\n            }\n            let result = await order({\"address_id\": this.addressId, \"ids\": this.ids});\n            if (result.status === 1) {\n                this.$Message.success(result.message);\n                this.$router.push(\"/pay?id=\"+result.result.id);\n            } else {\n                this.$Message.error(result.message);\n            }\n        }\n    }\n}\n",{"version":3,"sources":["order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"order.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <!-- 顶部tab -->\n        <header_></header_>\n        <!-- 顶部标题 -->\n        <div class=\"content clearfix bgf5\">\n            <section class=\"user-center inner clearfix\">\n                <div class=\"user-content__box clearfix bgf\">\n                    <div class=\"shop-title\">选择收货地址</div>\n                    <div class=\"shopcart-form__box\">\n                        <div class=\"addr-radio\">\n                            <div class=\"radio-line radio-box\" :id=\"'address'+k\" :val=\"v.id\"\n                                 v-for=\"(v,k) in addressList\">\n                                <label class=\"radio-label ep\">\n                                    <input name=\"addr\" :value=\"v.id\" autocomplete=\"off\" type=\"radio\" :id=\"'radio_'+k\"><i\n                                        class=\"iconfont icon-radio\"></i>\n                                    <span v-text=\"v.consignee_info\"></span>\n                                </label>\n                                <a v-if=\"v.is_default === 1\" class=\"default\">默认地址</a>\n                            </div>\n                        </div>\n                        <div class=\"add_addr\">\n                            <router-link to=\"/mine/address\">添加新地址</router-link>\n                        </div>\n                        <div class=\"shop-order__detail\">\n                            <table class=\"table\">\n                                <thead>\n                                <tr>\n                                    <th width=\"120\"></th>\n                                    <th width=\"300\">商品信息</th>\n                                    <th width=\"150\">单价</th>\n                                    <th width=\"200\">数量</th>\n                                    <th width=\"80\">总价</th>\n                                </tr>\n                                </thead>\n                                <tbody>\n                                <tr v-for=\"(v,k) in cartList\">\n                                    <th scope=\"row\">\n                                        <div class=\"img\"><img :src=\"v.image\" style=\"width: 100px;height: 100px;\" alt=\"\" class=\"cover\">\n                                        </div>\n                                    </th>\n                                    <td>\n                                        <div class=\"name ep3\" v-text=\"v.title\"></div>\n                                        <div class=\"type c9\" v-text=\"v.sku\"></div>\n                                    </td>\n                                    <td>¥<span v-text=\"v.price\"></span></td>\n                                    <td v-text=\"v.num\"></td>\n                                    <td>¥<span v-text=\"(v.price*v.num).toFixed(2)\"></span></td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <div class=\"user-form-group shopcart-submit\">\n                            <button type=\"submit\" class=\"btn\" @click=\"pay\">提交订单</button>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        </div>\n    </div>\n</template>\n\n<script>\n    import header_ from '../components/header_'\n    import {cartList, address, order} from '../lib/interface'\n\n    export default {\n        components: {header_},\n        name: \"order\",\n        data() {\n            return {\n                ids: \"\",\n                cartList: [],\n                addressList: [],\n                addressId: 0,\n            }\n        },\n        mounted() {\n            this.ids = this.$route.query.ids;\n            if (!this.ids) {\n                this.$router.replace(\"/\");\n                return;\n            }\n            this.getCartList();\n            this.getAddress();\n            var that = this;\n            $(document).ready(function () {\n                $(this).on('change', 'input', function () {\n                    that.addressId = $(this).parents('.radio-box').attr(\"val\");\n                    $(this).parents('.radio-box').addClass('active').siblings().removeClass('active');\n                })\n            });\n            $('#coupon').bind('change', function () {\n                console.log($(this).val());\n            })\n        },\n        methods: {\n            async getCartList() {\n                let result = await cartList({\"id\": this.ids});\n                this.cartList = result.result;\n            },\n            async getAddress() {\n                let result = await address();\n                this.addressList = result.result;\n                if (this.addressList.length > 0) {\n                    this.$nextTick(function () {\n                        $(\"#address0\").addClass(\"active\");\n                        $(\"#radio_0\").attr(\"checked\", 'checked');\n                        this.addressId = this.addressList[0].id;\n                    })\n                }\n            },\n            async pay() {\n                if (this.addressId === 0) {\n                    this.$Message.error(\"请选择收获地址！\");\n                    return;\n                }\n                let result = await order({\"address_id\": this.addressId, \"ids\": this.ids});\n                if (result.status === 1) {\n                    this.$Message.success(result.message);\n                    this.$router.push(\"/pay?id=\"+result.result.id);\n                } else {\n                    this.$Message.error(result.message);\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n"]}]}