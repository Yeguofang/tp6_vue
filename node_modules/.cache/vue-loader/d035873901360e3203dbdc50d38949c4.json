{"remainingRequest":"/Users/yeguofang/www/tp6_vue_10/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yeguofang/www/tp6_vue_10/src/views/category.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yeguofang/www/tp6_vue_10/src/views/category.vue","mtime":1580789670000},{"path":"/Users/yeguofang/www/tp6_vue_10/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yeguofang/www/tp6_vue_10/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yeguofang/www/tp6_vue_10/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yeguofang/www/tp6_vue_10/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport header_ from '../components/header_'\nimport search from '../components/search'\nimport footer_ from '../components/footer_'\nimport {sku, categorySearch, lists, subcategory, addCart} from \"../lib/interface\";\n\nexport default {\n    name: \"category\",\n    components: {header_, search, footer_},\n    data() {\n        return {\n            \"cid\": 0,\n            \"skuInfo\": [],\n            \"color\": -1,\n            \"size\": -1,\n            \"price\": -1,\n            \"cate2\": -1,\n            \"cate3\": -1,\n            \"orderType\": -1,\n            \"orderNum\": -1,\n            \"orderPrice\": -1,\n\n            \"topCateName\": \"\",\n            \"categoryInfo\": [],\n            \"categoryInfo2\": [],\n            \"categoryInfo3\": [],\n            \"cate\": [],\n\n            \"pageSize\": 10,\n            \"pageNum\": 1,\n            \"total\": 0,\n            \"result\": []\n        }\n    },\n    mounted() {\n        $('.to-top').toTop({position: false});\n        this.cid = this.$route.query.cid;\n        if (!this.cid || this.cid === 0) {\n            this.$router.push(\"/\");\n        }\n        // this.getSku();\n        this.getCategorySearch();\n    },\n    methods: {\n        async getSku() {\n            let result = await sku({\"category_id\": this.cid});\n            this.skuInfo = result.result;\n        },\n        async getCategorySearch() {\n            let result = await categorySearch({\"id\": this.cid});\n            this.topCateName = result.result.name;\n            this.cate = result.result.focus_ids;\n            this.categoryInfo = result.result.list;\n            this.categoryInfo2 = this.categoryInfo[0];\n            this.categoryInfo3 = this.categoryInfo[1];\n\n            this.$nextTick(function () {\n                if (this.cate.length >= 1) {\n                    for (var i = 0; i < this.categoryInfo[0].length; i++) {\n                        if (this.categoryInfo[0][i].id === this.cate[0]) {\n                            this.cate2 = this.categoryInfo[0][i].id;\n                            $(\".cate2\").removeClass(\"active\");\n                            $(\"#cate2_\" + i).addClass(\"active\");\n                        }\n                    }\n                }\n                if (this.cate.length > 1) {\n                    for (var i = 0; i < this.categoryInfo[1].length; i++) {\n                        if (this.categoryInfo[1][i].id === this.cate[1]) {\n                            this.cate3 = this.categoryInfo[1][i].id;\n                            $(\".cate3\").removeClass(\"active\");\n                            $(\"#cate3_\" + i).addClass(\"active\");\n                        }\n                    }\n                }\n                this.getResult();\n            });\n        },\n        changeSku(k, k1) {\n            $(\".sku_\" + k).removeClass(\"active\");\n            $(\"#sku_\" + k + \"_\" + k1).addClass(\"active\");\n            if (k == 0) {\n                if (k1 == -1) {\n                    this.color = -1\n                } else {\n                    this.color = this.skuInfo[k].list[k1].id\n                }\n            } else if (k == 1) {\n                if (k1 == -1) {\n                    this.size = -1\n                } else {\n                    this.size = this.skuInfo[k].list[k1].id\n                }\n            } else {\n                if (k1 == -1) {\n                    this.price = -1\n                } else {\n                    this.price = this.skuInfo[k].list[k1].id\n                }\n            }\n            this.pageNum = 1;\n            this.getResult();\n        },\n        changeCate2(k) {\n            if (k === -1) {\n                this.cate2 = -1;\n            } else {\n                this.cate2 = this.categoryInfo[0][k].id;\n                this.cid = this.cate2;\n            }\n            $(\".cate2\").removeClass(\"active\");\n            $(\"#cate2_\" + k).addClass(\"active\");\n            this.pageNum = 1;\n            this.getResult();\n            if (this.cate2 !== -1) {\n                this.getSubcategory();\n            }\n        },\n        async getSubcategory() {\n            let result = await subcategory({\"id\": this.cate2});\n            this.categoryInfo3 = result.result;\n            $(\".cate3\").removeClass(\"active\");\n            $(\"#cate3_0\").addClass(\"active\");\n        },\n        changeCate3(k) {\n            if (k === -1) {\n                this.cate3 = -1;\n            } else {\n                this.cate3 = this.categoryInfo[1][k].id;\n                this.cid = this.cate3;\n            }\n            $(\".cate3\").removeClass(\"active\");\n            $(\"#cate3_\" + k).addClass(\"active\");\n            this.pageNum = 1;\n            this.getResult();\n        },\n        changeOrderNum() {\n            this.orderType = 0;\n            if (this.orderNum === -1) {\n                this.orderNum = 0;\n                $(\"#orderNum\").addClass(\"active\");\n                $(\"#orderNumIcon\").addClass(\"icon-sortUp\");\n                $(\"#orderNumIcon\").removeClass(\"icon-sortDown\");\n            } else if (this.orderNum === 0) {\n                this.orderNum = 1;\n                $(\"#orderNum\").addClass(\"active\");\n                $(\"#orderNumIcon\").removeClass(\"icon-sortUp\");\n                $(\"#orderNumIcon\").addClass(\"icon-sortDown\");\n            } else {\n                this.orderType = -1;\n                this.orderNum = -1;\n                $(\"#orderNum\").removeClass(\"active\");\n                $(\"#orderNumIcon\").removeClass(\"icon-sortUp\");\n                $(\"#orderNumIcon\").removeClass(\"icon-sortDown\");\n            }\n            this.orderPrice = -1;\n            $(\"#orderPrice\").removeClass(\"active\");\n            $(\"#orderPriceIcon\").removeClass(\"icon-sortUp\");\n            $(\"#orderPriceIcon\").removeClass(\"icon-sortDown\");\n            this.pageNum = 1;\n            this.getResult();\n        },\n        changeOrderPrice() {\n            this.orderType = 1;\n            if (this.orderPrice === -1) {\n                this.orderPrice = 0;\n                $(\"#orderPrice\").addClass(\"active\");\n                $(\"#orderPriceIcon\").addClass(\"icon-sortUp\");\n                $(\"#orderPriceIcon\").removeClass(\"icon-sortDown\");\n            } else if (this.orderPrice === 0) {\n                this.orderPrice = 1;\n                $(\"#orderPrice\").addClass(\"active\");\n                $(\"#orderPriceIcon\").removeClass(\"icon-sortUp\");\n                $(\"#orderPriceIcon\").addClass(\"icon-sortDown\");\n            } else {\n                this.orderType = -1;\n                this.orderPrice = -1;\n                $(\"#orderPrice\").removeClass(\"active\");\n                $(\"#orderPriceIcon\").removeClass(\"icon-sortUp\");\n                $(\"#orderPriceIcon\").removeClass(\"icon-sortDown\");\n            }\n            this.orderNum = -1;\n            $(\"#orderNum\").removeClass(\"active\");\n            $(\"#orderNumIcon\").removeClass(\"icon-sortUp\");\n            $(\"#orderNumIcon\").removeClass(\"icon-sortDown\");\n            this.pageNum = 1;\n            this.getResult();\n        },\n        async pageSizeChange(pageSize) {\n            this.pageSize = pageSize;\n            this.getResult()\n        },\n        changePage(page) {\n            this.pageNum = page;\n            this.getResult()\n        },\n        async getResult() {\n            var skuStr = \"\";\n            if (this.color !== -1) {\n                skuStr += this.color + \",\"\n            }\n            if (this.size !== -1) {\n                skuStr += this.size + \",\"\n            }\n            if (this.price !== -1) {\n                skuStr += this.price + \",\"\n            }\n            skuStr = skuStr.substr(0, skuStr.length - 1);\n            var orderTypeValue = undefined;\n            var orderValue = undefined;\n            if (this.orderType === -1) {\n                orderTypeValue = undefined;\n                orderValue = undefined;\n            } else if (this.orderType === 1) {\n                orderTypeValue = \"price\";\n                if (this.orderPrice === -1) {\n                    orderValue = undefined;\n                } else if (this.orderPrice === 0) {\n                    orderValue = 1\n                } else {\n                    orderValue = 2\n                }\n            } else {\n                orderTypeValue = \"sales_count\";\n                if (this.orderNum === -1) {\n                    orderValue = undefined;\n                } else if (this.orderNum === 0) {\n                    orderValue = 1\n                } else {\n                    orderValue = 2\n                }\n            }\n            var data = {\n                \"category_id\": this.cid,\n                // \"sku_ids\": skuStr,\n                \"page\": this.pageNum,\n                \"page_size\": this.pageSize,\n            };\n            if (this.cid === -1) {\n                delete (data[\"category_id\"])\n            }\n            if (this.orderType !== -1) {\n                data.field = orderTypeValue;\n            } else {\n                delete (data[\"field\"])\n            }\n            if (this.orderType !== -1) {\n                data.order = orderValue\n            } else {\n                delete [\"order\"]\n            }\n            let result = await lists(data);\n            this.result = result.result.list;\n            this.total = result.result.count;\n        },\n        async addCart(id) {\n            var token = localStorage.getItem(\"token\");\n            if (token === undefined || token === null) {\n                this.$router.replace({\n                    name: \"login\",\n                    query: {redirect: this.$route.fullPath}\n                })\n            }\n            let result = await addCart({\"id\": id});\n            this.$Message.success(result.message);\n        }\n    }\n\n}\n",{"version":3,"sources":["category.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"category.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <!-- 顶部tab -->\n        <header_></header_>\n        <!-- 搜索栏 -->\n        <search></search>\n        <!-- 内页导航栏 -->\n        <div class=\"top-nav bg3\">\n            <div class=\"nav-box inner\">\n                <div class=\"all-cat\">\n                    <div class=\"title\"><i class=\"iconfont icon-menu\"></i> 全部分类</div>\n                </div>\n                <ul class=\"nva-list\">\n                    <a href=\"/\">\n                        <li>首页</li>\n                    </a>\n                </ul>\n            </div>\n        </div>\n        <div class=\"content inner\">\n            <section class=\"filter-section clearfix\">\n                <ol class=\"breadcrumb\">\n                    <li>首页</li>\n                    <li>商品筛选</li>\n                    <li class=\"active\" v-text=\"topCateName\"></li>\n                </ol>\n                <div class=\"filter-box\">\n                    <div class=\"filter-prop-item\">\n                        <span class=\"filter-prop-title\">二级分类：</span>\n                        <ul class=\"clearfix\">\n                            <a>\n                                <li class=\"cate2\" :id=\"'cate2_'+k\" @click=\"changeCate2(k)\"\n                                    v-for=\"(v,k) in categoryInfo2\" :key=\"k\" v-text=\"v.name\"></li>\n                            </a>\n                        </ul>\n                    </div>\n                    <div class=\"filter-prop-item\">\n                        <span class=\"filter-prop-title\">三级分类：</span>\n                        <ul class=\"clearfix\">\n                            <a>\n                                <li class=\"cate3\" :id=\"'cate3_'+k\" @click=\"changeCate3(k)\"\n                                    v-for=\"(v,k) in categoryInfo3\" :key=\"k\" v-text=\"v.name\"></li>\n                            </a>\n                        </ul>\n                    </div>\n                    <div class=\"filter-prop-item hide\" v-for=\"(v,k) in skuInfo\">\n                        <span class=\"filter-prop-title\" v-text=\"v.name+'：'\"></span>\n                        <ul class=\"clearfix\">\n                            <a>\n                                <li :class=\"'active '+'sku_'+k\" :id=\"'sku_'+k+'_-1'\" @click=\"changeSku(k,-1)\">全部</li>\n                            </a>\n                            <a v-for=\"(v1,k1) in v.list\">\n                                <li :class=\"'sku_'+k\" :id=\"'sku_'+k+'_'+k1\" v-text=\"v1.name\"\n                                    @click=\"changeSku(k,k1)\"></li>\n                            </a>\n                        </ul>\n                    </div>\n                </div>\n                <div class=\"sort-box bgf5\">\n                    <div class=\"sort-text\">排序：</div>\n                    <div class=\"sort-text\" id=\"orderNum\" @click=\"changeOrderNum\">销量 <i id=\"orderNumIcon\"\n                                                                                       class=\"iconfont\"></i>\n                    </div>\n                    <div class=\"sort-text\" id=\"orderPrice\" @click=\"changeOrderPrice\">价格 <i id=\"orderPriceIcon\"\n                                                                                           class=\"iconfont\"></i></div>\n                    <div class=\"sort-total pull-right\">共<span v-text=\"total\"></span>个商品</div>\n                </div>\n            </section>\n            <section class=\"item-show__div clearfix\">\n                <div class=\"pull-left\" style=\"width: 1200px;\">\n                    <div class=\"item-list__area clearfix\">\n                        <div class=\"item-card\" v-for=\"(v,k) in result\">\n                            <router-link :to=\"'/detail?id='+v.id\" class=\"photo\">\n                                <img :src=\"v.image\"\n                                     :alt=\"v.title\"\n                                     class=\"cover\">\n                                <div class=\"name\" v-text=\"v.title\"></div>\n                            </router-link>\n                            <div class=\"middle\">\n                                <div class=\"price\">\n                                    <small>￥</small>\n                                    {{v.price}}\n                                </div>\n                                <div class=\"sale\"><a @click=\"addCart(v.id)\">加入购物车</a></div>\n                            </div>\n                            <div class=\"buttom\">\n                                <div>销量 <b v-text=\"v.sales_count\"></b></div>\n                            </div>\n                        </div>\n                    </div>\n                    <!-- 分页 -->\n                    <Page :total=\"total\" :current=\"pageNum\" show-sizer show-total @on-page-size-change=\"pageSizeChange\"\n                          :page-size=\"pageSize\"\n                          @on-change=\"changePage\" style=\"text-align: center;\"></Page>\n                </div>\n            </section>\n        </div>\n        <footer_></footer_>\n    </div>\n</template>\n\n<style>\n    .sort-box .active {\n        color: #b31e22;\n    }\n\n    .item-card {\n        width: 220px;\n    }\n</style>\n<script>\n    import header_ from '../components/header_'\n    import search from '../components/search'\n    import footer_ from '../components/footer_'\n    import {sku, categorySearch, lists, subcategory, addCart} from \"../lib/interface\";\n\n    export default {\n        name: \"category\",\n        components: {header_, search, footer_},\n        data() {\n            return {\n                \"cid\": 0,\n                \"skuInfo\": [],\n                \"color\": -1,\n                \"size\": -1,\n                \"price\": -1,\n                \"cate2\": -1,\n                \"cate3\": -1,\n                \"orderType\": -1,\n                \"orderNum\": -1,\n                \"orderPrice\": -1,\n\n                \"topCateName\": \"\",\n                \"categoryInfo\": [],\n                \"categoryInfo2\": [],\n                \"categoryInfo3\": [],\n                \"cate\": [],\n\n                \"pageSize\": 10,\n                \"pageNum\": 1,\n                \"total\": 0,\n                \"result\": []\n            }\n        },\n        mounted() {\n            $('.to-top').toTop({position: false});\n            this.cid = this.$route.query.cid;\n            if (!this.cid || this.cid === 0) {\n                this.$router.push(\"/\");\n            }\n            // this.getSku();\n            this.getCategorySearch();\n        },\n        methods: {\n            async getSku() {\n                let result = await sku({\"category_id\": this.cid});\n                this.skuInfo = result.result;\n            },\n            async getCategorySearch() {\n                let result = await categorySearch({\"id\": this.cid});\n                this.topCateName = result.result.name;\n                this.cate = result.result.focus_ids;\n                this.categoryInfo = result.result.list;\n                this.categoryInfo2 = this.categoryInfo[0];\n                this.categoryInfo3 = this.categoryInfo[1];\n\n                this.$nextTick(function () {\n                    if (this.cate.length >= 1) {\n                        for (var i = 0; i < this.categoryInfo[0].length; i++) {\n                            if (this.categoryInfo[0][i].id === this.cate[0]) {\n                                this.cate2 = this.categoryInfo[0][i].id;\n                                $(\".cate2\").removeClass(\"active\");\n                                $(\"#cate2_\" + i).addClass(\"active\");\n                            }\n                        }\n                    }\n                    if (this.cate.length > 1) {\n                        for (var i = 0; i < this.categoryInfo[1].length; i++) {\n                            if (this.categoryInfo[1][i].id === this.cate[1]) {\n                                this.cate3 = this.categoryInfo[1][i].id;\n                                $(\".cate3\").removeClass(\"active\");\n                                $(\"#cate3_\" + i).addClass(\"active\");\n                            }\n                        }\n                    }\n                    this.getResult();\n                });\n            },\n            changeSku(k, k1) {\n                $(\".sku_\" + k).removeClass(\"active\");\n                $(\"#sku_\" + k + \"_\" + k1).addClass(\"active\");\n                if (k == 0) {\n                    if (k1 == -1) {\n                        this.color = -1\n                    } else {\n                        this.color = this.skuInfo[k].list[k1].id\n                    }\n                } else if (k == 1) {\n                    if (k1 == -1) {\n                        this.size = -1\n                    } else {\n                        this.size = this.skuInfo[k].list[k1].id\n                    }\n                } else {\n                    if (k1 == -1) {\n                        this.price = -1\n                    } else {\n                        this.price = this.skuInfo[k].list[k1].id\n                    }\n                }\n                this.pageNum = 1;\n                this.getResult();\n            },\n            changeCate2(k) {\n                if (k === -1) {\n                    this.cate2 = -1;\n                } else {\n                    this.cate2 = this.categoryInfo[0][k].id;\n                    this.cid = this.cate2;\n                }\n                $(\".cate2\").removeClass(\"active\");\n                $(\"#cate2_\" + k).addClass(\"active\");\n                this.pageNum = 1;\n                this.getResult();\n                if (this.cate2 !== -1) {\n                    this.getSubcategory();\n                }\n            },\n            async getSubcategory() {\n                let result = await subcategory({\"id\": this.cate2});\n                this.categoryInfo3 = result.result;\n                $(\".cate3\").removeClass(\"active\");\n                $(\"#cate3_0\").addClass(\"active\");\n            },\n            changeCate3(k) {\n                if (k === -1) {\n                    this.cate3 = -1;\n                } else {\n                    this.cate3 = this.categoryInfo[1][k].id;\n                    this.cid = this.cate3;\n                }\n                $(\".cate3\").removeClass(\"active\");\n                $(\"#cate3_\" + k).addClass(\"active\");\n                this.pageNum = 1;\n                this.getResult();\n            },\n            changeOrderNum() {\n                this.orderType = 0;\n                if (this.orderNum === -1) {\n                    this.orderNum = 0;\n                    $(\"#orderNum\").addClass(\"active\");\n                    $(\"#orderNumIcon\").addClass(\"icon-sortUp\");\n                    $(\"#orderNumIcon\").removeClass(\"icon-sortDown\");\n                } else if (this.orderNum === 0) {\n                    this.orderNum = 1;\n                    $(\"#orderNum\").addClass(\"active\");\n                    $(\"#orderNumIcon\").removeClass(\"icon-sortUp\");\n                    $(\"#orderNumIcon\").addClass(\"icon-sortDown\");\n                } else {\n                    this.orderType = -1;\n                    this.orderNum = -1;\n                    $(\"#orderNum\").removeClass(\"active\");\n                    $(\"#orderNumIcon\").removeClass(\"icon-sortUp\");\n                    $(\"#orderNumIcon\").removeClass(\"icon-sortDown\");\n                }\n                this.orderPrice = -1;\n                $(\"#orderPrice\").removeClass(\"active\");\n                $(\"#orderPriceIcon\").removeClass(\"icon-sortUp\");\n                $(\"#orderPriceIcon\").removeClass(\"icon-sortDown\");\n                this.pageNum = 1;\n                this.getResult();\n            },\n            changeOrderPrice() {\n                this.orderType = 1;\n                if (this.orderPrice === -1) {\n                    this.orderPrice = 0;\n                    $(\"#orderPrice\").addClass(\"active\");\n                    $(\"#orderPriceIcon\").addClass(\"icon-sortUp\");\n                    $(\"#orderPriceIcon\").removeClass(\"icon-sortDown\");\n                } else if (this.orderPrice === 0) {\n                    this.orderPrice = 1;\n                    $(\"#orderPrice\").addClass(\"active\");\n                    $(\"#orderPriceIcon\").removeClass(\"icon-sortUp\");\n                    $(\"#orderPriceIcon\").addClass(\"icon-sortDown\");\n                } else {\n                    this.orderType = -1;\n                    this.orderPrice = -1;\n                    $(\"#orderPrice\").removeClass(\"active\");\n                    $(\"#orderPriceIcon\").removeClass(\"icon-sortUp\");\n                    $(\"#orderPriceIcon\").removeClass(\"icon-sortDown\");\n                }\n                this.orderNum = -1;\n                $(\"#orderNum\").removeClass(\"active\");\n                $(\"#orderNumIcon\").removeClass(\"icon-sortUp\");\n                $(\"#orderNumIcon\").removeClass(\"icon-sortDown\");\n                this.pageNum = 1;\n                this.getResult();\n            },\n            async pageSizeChange(pageSize) {\n                this.pageSize = pageSize;\n                this.getResult()\n            },\n            changePage(page) {\n                this.pageNum = page;\n                this.getResult()\n            },\n            async getResult() {\n                var skuStr = \"\";\n                if (this.color !== -1) {\n                    skuStr += this.color + \",\"\n                }\n                if (this.size !== -1) {\n                    skuStr += this.size + \",\"\n                }\n                if (this.price !== -1) {\n                    skuStr += this.price + \",\"\n                }\n                skuStr = skuStr.substr(0, skuStr.length - 1);\n                var orderTypeValue = undefined;\n                var orderValue = undefined;\n                if (this.orderType === -1) {\n                    orderTypeValue = undefined;\n                    orderValue = undefined;\n                } else if (this.orderType === 1) {\n                    orderTypeValue = \"price\";\n                    if (this.orderPrice === -1) {\n                        orderValue = undefined;\n                    } else if (this.orderPrice === 0) {\n                        orderValue = 1\n                    } else {\n                        orderValue = 2\n                    }\n                } else {\n                    orderTypeValue = \"sales_count\";\n                    if (this.orderNum === -1) {\n                        orderValue = undefined;\n                    } else if (this.orderNum === 0) {\n                        orderValue = 1\n                    } else {\n                        orderValue = 2\n                    }\n                }\n                var data = {\n                    \"category_id\": this.cid,\n                    // \"sku_ids\": skuStr,\n                    \"page\": this.pageNum,\n                    \"page_size\": this.pageSize,\n                };\n                if (this.cid === -1) {\n                    delete (data[\"category_id\"])\n                }\n                if (this.orderType !== -1) {\n                    data.field = orderTypeValue;\n                } else {\n                    delete (data[\"field\"])\n                }\n                if (this.orderType !== -1) {\n                    data.order = orderValue\n                } else {\n                    delete [\"order\"]\n                }\n                let result = await lists(data);\n                this.result = result.result.list;\n                this.total = result.result.count;\n            },\n            async addCart(id) {\n                var token = localStorage.getItem(\"token\");\n                if (token === undefined || token === null) {\n                    this.$router.replace({\n                        name: \"login\",\n                        query: {redirect: this.$route.fullPath}\n                    })\n                }\n                let result = await addCart({\"id\": id});\n                this.$Message.success(result.message);\n            }\n        }\n\n    }\n</script>\n\n<style scoped>\n\n</style>\n"]}]}